{"version":3,"sources":["../src/common/mvc/decorators/method/useAfter.ts"],"names":[],"mappings":";;AAAA,qCAAyD;AACzD,wEAAmE;AAEnE;;;;;;;;;;;;;;;;;;GAkBG;AACH,kBAAyB,GAAG,IAAW;IACrC,OAAO,CAAI,MAAiB,EAAE,SAAkB,EAAE,UAAuC,EAAqC,EAAE;QAC9H,IAAI,uBAAgB,CAAC,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC,KAAK,QAAQ,EAAE;YAClE,mCAAgB,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAU,EAAE,IAAI,CAAC,CAAC;YAEpD,OAAO,UAAU,CAAC;SACnB;QAED,YAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,aAAa,EAAE;YACtC,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC;AAZD,4BAYC","file":"useAfter.js","sourcesContent":["import {getDecoratorType, Store, Type} from \"@tsed/core\";\nimport {EndpointRegistry} from \"../../registries/EndpointRegistry\";\n\n/**\n * Mounts the specified middleware function or functions at the specified path: the middleware function is executed when\n * the base of the requested path matches `path.\n *\n * ```typescript\n * @Controller('/')\n * @UseAfter(Middleware1)\n * export class Ctrl {\n *\n *    @Get('/')\n *    @UseAfter(Middleware2)\n *    get() { }\n * }\n * ```\n *\n * @returns {function(any, any, any): *}\n * @param args\n * @decorator\n */\nexport function UseAfter(...args: any[]): Function {\n  return <T>(target: Type<any>, targetKey?: string, descriptor?: TypedPropertyDescriptor<T>): TypedPropertyDescriptor<T> | void => {\n    if (getDecoratorType([target, targetKey, descriptor]) === \"method\") {\n      EndpointRegistry.useAfter(target, targetKey!, args);\n\n      return descriptor;\n    }\n\n    Store.from(target).merge(\"middlewares\", {\n      useAfter: args\n    });\n  };\n}\n"],"sourceRoot":"../../../../"}