"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 * @param {string} method
 * @param {Type<*>} interceptor
 * @param options
 * @returns {(injector: InjectorService, instance: any) => void}
 */
function interceptorInvokeFactory(method, interceptor, options) {
    return (injector, target) => {
        if (injector.has(interceptor)) {
            const originalMethod = target[method];
            const intcpt = injector.get(interceptor);
            function interceptedMethod(...args) {
                const context = {
                    target,
                    method,
                    args,
                    proceed(err) {
                        if (!err) {
                            return originalMethod.apply(target, args);
                        }
                        throw err;
                    }
                };
                return intcpt.aroundInvoke(context, options);
            }
            target[method] = interceptedMethod;
        }
    };
}
exports.interceptorInvokeFactory = interceptorInvokeFactory;

//# sourceMappingURL=interceptorInvokeFactory.js.map
