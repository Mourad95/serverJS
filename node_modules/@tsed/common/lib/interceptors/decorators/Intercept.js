"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@tsed/core");
const interceptorInvokeFactory_1 = require("../utils/interceptorInvokeFactory");
/**
 * Attaches interceptor to method call and executes the before and after methods
 *
 * @param interceptor
 * @param options
 * @decorator
 */
function Intercept(interceptor, options) {
    return (target, propertyKey, descriptor) => {
        core_1.Store.from(target).merge("injectableProperties", {
            [propertyKey]: {
                bindingType: "custom",
                propertyKey,
                onInvoke: interceptorInvokeFactory_1.interceptorInvokeFactory(propertyKey, interceptor, options)
            }
        });
        return descriptor;
    };
}
exports.Intercept = Intercept;

//# sourceMappingURL=Intercept.js.map
